<ngx-charts-chart [view]="[width, height]" [showLegend]="config?.legend ?? false" [legendOptions]="legendOptions"
    [activeEntries]="config?.activeEntries ?? []" [animations]="animations" (legendLabelClick)="onClick($event)"
    (legendLabelActivate)="onActivate($event)" (legendLabelDeactivate)="onDeactivate($event)">
    <svg:defs>
        <svg:clipPath [attr.id]="clipPathId">
            <svg:rect [attr.width]="dims.width + 10" [attr.height]="dims.height + 10"
                [attr.transform]="'translate(-5, -5)'" />
        </svg:clipPath>
    </svg:defs>
    <svg:g [attr.transform]="transform" class="area-chart chart">
        <svg:g ngx-charts-x-axis *ngIf="config?.xAxis ?? false" [xScale]="xScale" [dims]="dims"
            [showGridLines]="config?.showGridLines ?? true" [showLabel]="config?.showXAxisLabel"
            [labelText]="config?.xAxisLabel" [trimTicks]="config?.trimXAxisTicks ?? true"
            [rotateTicks]="config?.rotateXAxisTicks ?? true" [maxTickLength]="config?.maxXAxisTickLength ?? 16"
            [tickFormatting]="config?.xAxisTickFormatting" [ticks]="config?.xAxisTicks"
            [wrapTicks]="config?.wrapTicks ?? false" (dimensionsChanged)="updateXAxisHeight($event)"></svg:g>
        <svg:g ngx-charts-y-axis *ngIf="config?.yAxis ?? false" [yScale]="yScale" [dims]="dims"
            [showGridLines]="config?.showGridLines ?? true" [showLabel]="config?.showYAxisLabel"
            [labelText]="config?.yAxisLabel" [trimTicks]="config?.trimYAxisTicks ?? true"
            [maxTickLength]="config?.maxYAxisTickLength ?? 16" [tickFormatting]="config?.yAxisTickFormatting"
            [ticks]="config?.yAxisTicks" [referenceLines]="config?.referenceLines"
            [showRefLines]="config?.showRefLines ?? false" [showRefLabels]="config?.showRefLabels ?? false"
            [wrapTicks]="config?.wrapTicks ?? false" (dimensionsChanged)="updateYAxisWidth($event)"></svg:g>
        <svg:g [attr.clip-path]="clipPath">
            <svg:g *ngFor="let series of results; trackBy: trackBy">
                <svg:g ngx-charts-area-series [xScale]="xScale" [yScale]="yScale"
                    [baseValue]="config?.baseValue ?? 'auto'" [colors]="colors" [data]="series"
                    [activeEntries]="config?.activeEntries ?? []" [scaleType]="scaleType" [gradient]="config?.gradient"
                    [curve]="config?.curve" [animations]="animations" />
            </svg:g>

            <svg:g *ngIf="!(config?.tooltipDisabled ?? false)" (mouseleave)="hideCircles()">
                <svg:g ngx-charts-tooltip-area [dims]="dims" [xSet]="xSet" [xScale]="xScale" [yScale]="yScale"
                    [results]="results" [colors]="colors" [tooltipDisabled]="config?.tooltipDisabled ?? false"
                    [tooltipTemplate]="seriesTooltipTemplate" (hover)="updateHoveredVertical($event)" />

                <svg:g *ngFor="let series of results">
                    <svg:g ngx-charts-circle-series [xScale]="xScale" [yScale]="yScale" [colors]="colors"
                        [activeEntries]="config?.activeEntries ?? []" [data]="series" [scaleType]="scaleType"
                        [visibleValue]="hoveredVertical" [tooltipDisabled]="config?.tooltipDisabled ?? false"
                        [tooltipTemplate]="tooltipTemplate" (select)="onClick($event, series)"
                        (activate)="onActivate($event)" (deactivate)="onDeactivate($event)" />
                </svg:g>
            </svg:g>
        </svg:g>
    </svg:g>
    <svg:g ngx-charts-timeline *ngIf="(config?.timeline ?? false) && scaleType != 'ordinal'"
        [attr.transform]="timelineTransform" [results]="results" [view]="[timelineWidth, height]"
        [height]="timelineHeight" [scheme]="scheme" [customColors]="customColors" [legend]="config?.legend ?? false"
        [scaleType]="scaleType" (onDomainChange)="updateDomain($event)">
        <svg:g *ngFor="let series of results; trackBy: trackBy">
            <svg:g ngx-charts-area-series [xScale]="timelineXScale" [yScale]="timelineYScale"
                [baseValue]="config?.baseValue ?? 'auto'" [colors]="colors" [data]="series" [scaleType]="scaleType"
                [gradient]="config?.gradient" [curve]="config?.curve" [animations]="animations" />
        </svg:g>
    </svg:g>
</ngx-charts-chart>