<ngx-charts-chart [view]="[width, height]" [showLegend]="config?.legend" [legendOptions]="legendOptions"
  [activeEntries]="config?.activeEntries" [animations]="animations" (legendLabelClick)="onClick($event)"
  (legendLabelActivate)="onActivate($event)" (legendLabelDeactivate)="onDeactivate($event)">
  <svg:defs>
    <svg:clipPath [attr.id]="clipPathId">
      <svg:rect [attr.width]="dims.width + 10" [attr.height]="dims.height + 10"
        [attr.transform]="'translate(-5, -5)'" />
    </svg:clipPath>
  </svg:defs>
  <svg:g [attr.transform]="transform" class="line-chart chart">
    <svg:g ngx-charts-x-axis *ngIf="config?.xAxis" [xScale]="xScale" [dims]="dims"
      [showGridLines]="config?.showGridLines ?? true" [showLabel]="config?.showXAxisLabel"
      [labelText]="config?.xAxisLabel" [trimTicks]="config?.trimXAxisTicks ?? true"
      [rotateTicks]="config?.rotateXAxisTicks ?? true" [maxTickLength]="config?.maxXAxisTickLength ?? 16"
      [tickFormatting]="config?.xAxisTickFormatting" [ticks]="config?.xAxisTicks"
      [wrapTicks]="config?.wrapTicks ?? false" (dimensionsChanged)="updateXAxisHeight($event)"></svg:g>
    <svg:g ngx-charts-y-axis *ngIf="config?.yAxis" [yScale]="yScale" [dims]="dims"
      [showGridLines]="config?.showGridLines ?? true" [showLabel]="config?.showYAxisLabel"
      [labelText]="config?.yAxisLabel" [trimTicks]="config?.trimYAxisTicks ?? true"
      [maxTickLength]="config?.maxYAxisTickLength ?? 16" [tickFormatting]="config?.yAxisTickFormatting"
      [ticks]="config?.yAxisTicks" [referenceLines]="config?.referenceLines" [showRefLines]="config?.showRefLines"
      [showRefLabels]="config?.showRefLabels ?? true" [wrapTicks]="config?.wrapTicks ?? false"
      (dimensionsChanged)="updateYAxisWidth($event)"></svg:g>
    <svg:g [attr.clip-path]="clipPath">
      <svg:g *ngIf="!isSSR">
        <svg:g *ngFor="let series of results; trackBy: trackBy" [@animationState]="'active'">
          <svg:g ngx-charts-line-series [config]="{
                  xScale: xScale,
                  yScale: yScale,
                  colors: colors,
                  data: series,
                  activeEntries: config?.activeEntries,
                  scaleType: scaleType,
                  curve: curve,
                  rangeFillOpacity: config?.rangeFillOpacity,
                  hasRange: hasRange,
                  animations: animations
                }" />
        </svg:g>
      </svg:g>
      <svg:g *ngIf="isSSR">
        <svg:g *ngFor="let series of results; trackBy: trackBy">
          <svg:g ngx-charts-line-series [config]="{
                  xScale: xScale,
                  yScale: yScale,
                  colors: colors,
                  data: series,
                  activeEntries: config?.activeEntries,
                  scaleType: scaleType,
                  curve: curve,
                  rangeFillOpacity: config?.rangeFillOpacity,
                  hasRange: hasRange,
                  animations: animations
                }" />
        </svg:g>
      </svg:g>

      <svg:g *ngIf="!(config?.tooltipDisabled ?? false)" (mouseleave)="hideCircles()">
        <svg:g ngx-charts-tooltip-area [dims]="dims" [xSet]="xSet" [xScale]="xScale" [yScale]="yScale"
          [results]="results" [colors]="colors" [tooltipDisabled]="config?.tooltipDisabled ?? false"
          [tooltipTemplate]="seriesTooltipTemplate" (hover)="updateHoveredVertical($event)" />

        <svg:g *ngFor="let series of results">
          <svg:g ngx-charts-circle-series [xScale]="xScale" [yScale]="yScale" [colors]="colors" [data]="series"
            [scaleType]="scaleType" [visibleValue]="hoveredVertical" [activeEntries]="config?.activeEntries"
            [tooltipDisabled]="config?.tooltipDisabled ?? false" [tooltipTemplate]="tooltipTemplate"
            (select)="onClick($event)" (activate)="onActivate($event)" (deactivate)="onDeactivate($event)" />
        </svg:g>
      </svg:g>
    </svg:g>
  </svg:g>
  <svg:g ngx-charts-timeline *ngIf="config?.timeline && scaleType != 'ordinal'" [attr.transform]="timelineTransform"
    [results]="results" [view]="[timelineWidth, height]" [height]="timelineHeight" [scheme]="scheme"
    [customColors]="customColors" [scaleType]="scaleType" [legend]="config?.legend"
    (onDomainChange)="updateDomain($event)">
    <svg:g *ngFor="let series of results; trackBy: trackBy">
      <svg:g ngx-charts-line-series [config]="{
              xScale: timelineXScale,
              yScale: timelineYScale,
              colors: colors,
              data: series,
              scaleType: scaleType,
              curve: curve,
              hasRange: hasRange,
              animations: animations,
              activeEntries: null,
              rangeFillOpacity: null
            }" />
    </svg:g>
  </svg:g>
</ngx-charts-chart>